function NumpadPopup(t) { t.attr("readonly", !0); var a = OpenNumpad(t); $("#myInput").val(t.val()); $("[data-role=page]").addClass("blur-filter"), a.on("click", ".numero", function () { var t = $("#myInput").val(); 0 == t.length ? $("#myInput").val($(this).text()) : $("#myInput").val($("#myInput").val() + $(this).text()) }), a.on("click", ".pos", function () { var t = $("#myInput").val(), a = t.indexOf("."); -1 == a && (0 == t.length && (t = "0"), isNaN(t) || $("#myInput").val(t.toString() + ".")) }), a.on("click", ".del", function () { $("#myInput").val($("#myInput").val().substring(0, $("#myInput").val().length - 1)) }), a.on("click", ".clear", function () { $("#myInput").val("") }), a.on("click", ".zero", function () { isNaN($("#myInput").val()) || 0 != parseFloat($("#myInput").val()) && $("#myInput").val($("#myInput").val() + $(this).text()) }), a.on("click", ".done", function () { t.val($("#myInput").val()), $("[data-role=page]").removeClass("blur-filter"), a.popup("close") }), a.on("click", ".cancel", function () { $("[data-role=page]").removeClass("blur-filter"), a.popup("close") }), a.on("popupafterclose", function () { a.remove(), $("[data-role=page]").removeClass("blur-filter") }) } function OpenNumpad(t) { var a; a = t.attr("class").indexOf("deciKeypad") >= 0 ? '<a data-role="button" data-theme="e" class="pos">.</a>' : "&nbsp;"; var e = "numpad", n = $("<div id=" + e + "/>").popup({ dismissible: !1, theme: "a", overlyaTheme: "e", positionTo: "window", transition: "pop" }).css({ width: "100%", height: "30%" }); return $("#" + e).append('<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><table id="n_keypad" ><tr><td colspan="4"><input type="text" readonly="readonly" id="myInput"/></td></tr><tr><td><a data-role="button" data-theme="b" class="numero">7</a></td><td><a data-role="button" data-theme="b" class="numero">8</a></td><td><a data-role="button" data-theme="b" class="numero">9</a></td><td><a data-role="button" data-theme="e" class="del">Del</a></td></tr><tr><td><a data-role="button" data-theme="b" class="numero">4</a></td><td><a data-role="button" data-theme="b" class="numero">5</a></td><td><a data-role="button" data-theme="b" class="numero">6</a></td><td><a data-role="button" data-theme="e" class="clear">Clear</a></td></tr><tr><td><a data-role="button" data-theme="b" class="numero">1</a></td><td><a data-role="button" data-theme="b" class="numero">2</a></td><td><a data-role="button" data-theme="b" class="numero">3</a></td><td><a href="#" data-rel="back" data-role="button" data-theme="e">Cancel</a></td></tr><tr><td>' + a + '</td><td><a data-role="button" data-theme="b" class="zero">0</a></td><td>' + a + '</td><td><a data-role="button" data-theme="e" class="done">Done</a></td></tr></table>'), n.popup("open").trigger("create"), n }